<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predicción de Supervivencia de Plantas</title>
    <script>
        async function predictSurvival() {
            const data = {
                'Temperatura(H)': parseFloat(document.getElementById('temperatura').value),
                'Humedad(%)': parseFloat(document.getElementById('humedad').value),
                'Luz(Lux)': parseFloat(document.getElementById('luz').value),
                'pH_Suelo': parseFloat(document.getElementById('ph').value),
                'Contenido_Nutrientes(ppm)': parseFloat(document.getElementById('nutrientes').value),
                'CO2': parseFloat(document.getElementById('co2').value)
            };

            const response = await fetch('https://api-cop16.onrender.com/predict', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });

            const result = await response.json();
            document.getElementById('resultado').textContent = `Predicción: ${result.prediccion.toFixed(2)}, Estado: ${result.estado}`;
        }

        // Llamar a predictSurvival inicialmente para hacer la predicción con valores predeterminados
        window.onload = function() {
            predictSurvival();
        }
    </script>
    <style>
        .info {
            margin-top: 20px;
        }
        .info h2 {
            margin-bottom: 10px;
        }
        .info ul {
            list-style-type: none;
            padding: 0;
        }
        .info li {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>Predicción de Supervivencia de Plantas</h1>
    <form oninput="predictSurvival();">
        <label for="temperatura">Temperatura(°C):</label>
        <input type="number" id="temperatura" step="any" value="25" required><br>

        <label for="humedad">Humedad(%):</label>
        <input type="number" id="humedad" step="any" value="55" required><br>

        <label for="luz">Luz(Lux):</label>
        <input type="number" id="luz" step="any" value="5000" required><br>

        <label for="ph">pH del Suelo:</label>
        <input type="number" id="ph" step="any" value="6.5" required><br>

        <label for="nutrientes">Contenido de Nutrientes(ppm):</label>
        <input type="number" id="nutrientes" step="any" value="150" required><br>

        <label for="co2">CO2:</label>
        <input type="number" id="co2" step="any" value="0.4" required><br>
    </form>
    <p id="resultado"></p>

    <div class="info">
        <h2>Explicación de Variables</h2>
        <ul>
            <li><strong>Temperatura (°C)</strong> - Tipo: float<br>Temperatura ambiente en grados Celsius. Rango sugerido: <strong>20°C a 30°C</strong>. Afecta la tasa de crecimiento y supervivencia de las plantas.</li>
            <li><strong>Humedad (%)</strong> - Tipo: float<br>Porcentaje de humedad relativa en el ambiente. Rango sugerido: <strong>40% a 70%</strong>. La humedad es crucial para la salud de las plantas.</li>
            <li><strong>Luz (Lux)</strong> - Tipo: float<br>Intensidad de la luz medida en lúmenes por metro cuadrado. Rango sugerido: <strong>3000 a 7000 Lux</strong>. Influye en la fotosíntesis y el crecimiento de las plantas.</li>
            <li><strong>pH del Suelo</strong> - Tipo: float<br>Nivel de pH del suelo donde crecen las plantas. Rango sugerido: <strong>6.0 a 7.5</strong>. Un pH adecuado es esencial para la absorción de nutrientes.</li>
            <li><strong>Contenido de Nutrientes (ppm)</strong> - Tipo: float<br>Cantidad de nutrientes en partes por millón. Rango sugerido: <strong>100 a 250 ppm</strong>. Los nutrientes son esenciales para el crecimiento de las plantas.</li>
            <li><strong>Concentración de CO2</strong> - Tipo: float<br>Concentración de dióxido de carbono en el ambiente. Rango sugerido: <strong>0.0 a 1.0</strong>. El CO2 es necesario para la fotosíntesis.</li>
        </ul>
    </div>
</body>
</html>

